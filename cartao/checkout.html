<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="DELTASYSTEMS">
    <title>Pagamento com Cartão de Crédito</title>    
    <link href="../assets/bootstrap/css/bootstrap.min.css" rel="stylesheet"><!-- Principal CSS do Bootstrap -->    
    <!-- Estilos customizados para esse template <link href="form-validation.css" rel="stylesheet"> -->
    <!-- VUE <script src="https://cdn.jsdelivr.net/npm/vue"></script> -->    
  </head><!--head-->
  <body class="bg-light">      
    <div id='appVue'>
      <div class="container">
        <div class="row pt-4">

          <!-- ====================================================================
                                    PAGAMENTOS (INÍCIO)
          ========================================================================= -->

          <div class="col-md-4 order-md-2 mb-4">
            <h4 class="d-flex justify-content-between align-items-center mb-3">
              <span class="text-muted">Pagamento</span>
            </h4>
            <ul class="list-group mb-3">
              <li class="list-group-item d-flex justify-content-between lh-condensed">
                <div>
                  <h6 class="my-0">Mensalidade</h6>
                  <small class="text-muted">Curso de testes 1/2</small>
                </div>
                <span class="text-muted">R$12</span>
              </li>
              <li class="list-group-item d-flex justify-content-between">
                <span>Total (BRL)</span>
                <strong>R$20</strong>
              </li>
            </ul>
          </div><!--col-md-4 order-md-2 mb-4-->

          <!-- ====================================================================
                                    PAGAMENTOS (FIM)
          ========================================================================= -->

          <div class="col-md-8 order-md-1">

            <!-- ====================================================================
                                      CLIENTE (INÍCIO)
            ========================================================================= -->

            <h4 class="mb-3">Cliente</h4>
            <form class="needs-validation" novalidate>
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="primeiroNome">CPF <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="cpf" autocomplete="off">
                  <span name="feedback1" style="width: 100%;margin-top: .25rem;font-size: 80%;"></span><!--feedback-->
                </div>
                <div class="col-md-6 mb-3">
                  <label for="email">Email <span class="text-danger">*</span></label>
                  <input type="email" class="form-control" id="email" autocomplete="off">
                  <span name="feedback2" style="width: 100%;margin-top: .25rem;font-size: 80%;"></span><!--feedback-->
                </div>                
                <div class="col-md-8 mb-3">
                  <label for="primeiroNome">Nome <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="nome" autocomplete="off">
                  <span name="feedback3" style="width: 100%;margin-top: .25rem;font-size: 80%;"></span><!--feedback--> 
                </div>
                <div class="col-md-4 mb-3">
                  <label for="celular">Celular <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="celular" autocomplete="off">
                  <span name="feedback4" style="width: 100%;margin-top: .25rem;font-size: 80%;"></span><!--feedback--> 
                </div>
                <div class="col-md-3 mb-3">
                  <label for="cep">CEP <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="cep" autocomplete="off">
                  <span name="feedback5" style="width: 100%;margin-top: .25rem;font-size: 80%;"></span><!--feedback-->
                </div>
                <div class="col-md-6 mb-3">
                  <label for="endereco">Endereço <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="endereco" autocomplete="off">
                  <span name="feedback6" style="width: 100%;margin-top: .25rem;font-size: 80%;"></span><!--feedback-->
                </div>
                <div class="col-md-3 mb-3">
                  <label for="endereco">Número <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="numero" autocomplete="off">
                  <span name="feedback7" style="width: 100%;margin-top: .25rem;font-size: 80%;"></span><!--feedback-->
                </div>
                <div class="col-md-6 mb-3">
                  <label for="Complemento">Complemento</label>
                  <input type="text" class="form-control" id="complemento" autocomplete="off">
                </div>
                <div class="col-md-6 mb-3">
                  <label for="bairro">Bairro <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="bairro" autocomplete="off">
                  <span name="feedback8" style="width: 100%;margin-top: .25rem;font-size: 80%;"></span><!--feedback-->
                </div>
                <div class="col-md-6 mb-3">
                  <label for="bairro">Cidade <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="cidade" autocomplete="off">
                  <span name="feedback9" style="width: 100%;margin-top: .25rem;font-size: 80%;"></span><!--feedback-->
                </div>
                <div class="col-md-4 mb-3">
                  <label for="estado">UF <span class="text-danger">*</span></label>
                  <input type="text" class="form-control text-uppercase" id="uf" autocomplete="off">
                  <span name="feedback10" style="width: 100%;margin-top: .25rem;font-size: 80%;"></span><!--feedback-->
                </div>
              </div><!--row-->

              <!-- ====================================================================
                                        CLIENTE (FIM)
              ========================================================================= -->

              <hr class="mb-4">

              <!-- ====================================================================
                                        CARTÃO (INÍCIO)
              ========================================================================= -->

              <h4 class="mb-3">Cartão</h4>
              <div class="row">              
                <div class="col-md-6 mb-3">
                  <label for="cc-nome">Titular do cartão <span class="text-danger">*</span></label>
                  <input type="text" class="form-control text-uppercase" id="ccnome" autocomplete="off">
                  <small class="text-muted">Nome completo, como mostrado no cartão.</small>
                  <span name="feedback11" style="width: 100%;margin-top: .25rem;font-size: 80%;display: block;"></span><!--feedback-->
                </div>
                <div class="col-md-6 mb-3">
                  <label for="cc-numero">Número do cartão <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="ccnumero" autocomplete="off">
                  <span name="feedback12" style="width: 100%;margin-top: .25rem;font-size: 80%;"></span><!--feedback-->
                </div>
              </div><!--row-->
              <div class="row">
                <div class="col-md-3 mb-3">
                  <label for="cc-expiracao">Vencimento <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="ccvencimento" autocomplete="off">
                  <span name="feedback13" style="width: 100%;margin-top: .25rem;font-size: 80%;"></span><!--feedback-->
                </div>
                <div class="col-md-3 mb-3">
                  <label for="cc-cvv">CVV <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="cccvv" autocomplete="off">
                  <span name="feedback14" style="width: 100%;margin-top: .25rem;font-size: 80%;"></span><!--feedback-->
                </div>
              </div><!--row-->

              <!-- ====================================================================
                                        CARTÃO (FIM)
              ========================================================================= -->

              <hr class="mb-4">
              <button id="checkoutBtn" class="btn btn-primary btn-lg btn-block" type="button">Checkout</button>
            </form><!--form-->
          </div><!--col-md-8 order-md-1-->
        </div><!--row-->
        <footer class="my-5 pt-5 text-muted text-center text-small">
          <p class="mb-1">Copyright &copy; Delta Systems 2020</p>
          <ul class="list-inline">
            <li class="list-inline-item"><a href="#">Privacidade</a></li>
            <li class="list-inline-item"><a href="#">Termos</a></li>
            <li class="list-inline-item"><a href="#">Suporte</a></li>
          </ul>
        </footer><!--footer-->
      </div><!--container-->
    </div><!--app-->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><!--jquery-->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script><!--vue.js-->
    <script src="../assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="checkout.js"></script>
    <script src="../assets/js/jquery.mask.min.js"></script><!--jquery mask-->
    <script>
      var params = window.location.search.replace( "?k=", "");
      //window.alert( 'Parametros = ' + params );
      appVuewv = new Vue({
        el:'#appVue', 
        data : {
          //nome : 'teste de nome'
        }
      });
    </script>
    <script>

      /*
      ==============================================================================
                                      MÁSCARAS (INÍCIO)
      ==============================================================================
      */

        $('#cpf').mask('000.000.000-00');
        $('#cep').mask('00000-000');
        $('#uf').mask('AA');
        $('#ccnumero').mask('0000 0000 0000 0000');
        $('#ccvencimento').mask('00/00');
        $('#cccvv').mask('0000');
        $('#celular').mask('(00) 0000-00009');
        $('#celular').blur(function(event){
            if($(this).val().length == 15){
                $('#celular').mask('(00) 00000-0009')
            }else{
                $('#celular').mask('(00) 0000-00009')
            }
        });

      /*
      ==============================================================================
                                      MÁSCARAS (FIM)
      ==============================================================================
      */

      /*
      ==============================================================================
                      FUNÇÕES PARA EFETUAR AS VALIDAÇÕES (INÍCIO)
      ==============================================================================
      */

        // FUNÇÃO DE VALIDAÇÃO DE CPF/CNPJ (INÍCIO)
        function validaCpfCnpj(val) {
          if (val.length == 14) {
              var cpf = val.trim();
          
              cpf = cpf.replace(/\./g, '');
              cpf = cpf.replace('-', '');
              cpf = cpf.split('');
              
              var v1 = 0;
              var v2 = 0;
              var aux = false;
              
              for (var i = 1; cpf.length > i; i++) {
                  if (cpf[i - 1] != cpf[i]) {
                      aux = true;   
                  }
              } 
              
              if (aux == false) {
                  return false; 
              } 
              
              for (var i = 0, p = 10; (cpf.length - 2) > i; i++, p--) {
                  v1 += cpf[i] * p; 
              } 
              
              v1 = ((v1 * 10) % 11);
              
              if (v1 == 10) {
                  v1 = 0; 
              }
              
              if (v1 != cpf[9]) {
                  return false; 
              } 
              
              for (var i = 0, p = 11; (cpf.length - 1) > i; i++, p--) {
                  v2 += cpf[i] * p; 
              } 
              
              v2 = ((v2 * 10) % 11);
              
              if (v2 == 10) {
                  v2 = 0; 
              }
              
              if (v2 != cpf[10]) {
                  return false; 
              } else {   
                  return true; 
              }
          } else if (val.length == 18) {
              var cnpj = val.trim();
              
              cnpj = cnpj.replace(/\./g, '');
              cnpj = cnpj.replace('-', '');
              cnpj = cnpj.replace('/', ''); 
              cnpj = cnpj.split(''); 
              
              var v1 = 0;
              var v2 = 0;
              var aux = false;
              
              for (var i = 1; cnpj.length > i; i++) { 
                  if (cnpj[i - 1] != cnpj[i]) {  
                      aux = true;   
                  } 
              } 
              
              if (aux == false) {  
                  return false; 
              }
              
              for (var i = 0, p1 = 5, p2 = 13; (cnpj.length - 2) > i; i++, p1--, p2--) {
                  if (p1 >= 2) {  
                      v1 += cnpj[i] * p1;  
                  } else {  
                      v1 += cnpj[i] * p2;  
                  } 
              } 
              
              v1 = (v1 % 11);
              
              if (v1 < 2) { 
                  v1 = 0; 
              } else { 
                  v1 = (11 - v1); 
              } 
              
              if (v1 != cnpj[12]) {  
                  return false; 
              } 
              
              for (var i = 0, p1 = 6, p2 = 14; (cnpj.length - 1) > i; i++, p1--, p2--) { 
                  if (p1 >= 2) {  
                      v2 += cnpj[i] * p1;  
                  } else {   
                      v2 += cnpj[i] * p2; 
                  } 
              }
              
              v2 = (v2 % 11); 
              
              if (v2 < 2) {  
                  v2 = 0;
              } else { 
                  v2 = (11 - v2); 
              } 
              
              if (v2 != cnpj[13]) {   
                  return false; 
              } else {  
                  return true; 
              }
          } else {
              return false;
          }
        } // FUNÇÃO DE VALIDAÇÃO DE CPF/CNPJ (FIM)

      /*
      ==============================================================================
                      FUNÇÕES PARA EFETUAR AS VALIDAÇÕES (FIM)
      ==============================================================================
      */      

      /*
      ==============================================================================
                      VALIDAÇÕES DO FORMULÁRIO DE CHECKOUT (INÍCIO) 
                      $("#id-generico").change(function(){ ... })
      ==============================================================================
      */
    
        // VALIDAÇÃO CPF/CNPJ (INÍCIO)
        $("#cpf").change(function(){

          let cpf = $(this).val();
          var el1 = $('#cpf');

          if(!validaCpfCnpj(cpf)){

              el1.css('border', '1px solid #ccc');
              el1.html('');
              el1.removeClass('is-valid');
              el1.addClass('is-invalid');
              el1.parent().find('[name=feedback1]').html('Por favor, informe um CPF válido.').css('color', '#e74a3b');
              el1.css('border', '1px solid #e74a3b');

              //return false;
          } else {

              el1.css('border', '1px solid #ccc');
              el1.html('');
              el1.removeClass('is-invalid');
              el1.addClass('is-valid');
              el1.parent().find('[name=feedback1]').html('Preenchido, CPF válido.').css('color', '#1cc88a');
              el1.css('border', '1px solid #1cc88a');

              //return true;
          }
          if(cpf != null){
            $.get( "../json/cliente.php?cpf=" + cpf, function( data ) {
                if(data != ""){
                    data = JSON.parse(data);
                    $.each(data.itens, function(key, value) {
                        $('#email').val(value.email);
                        $('#nome').val(value.nome);
                        $('#celular').val(value.celular);
                        $('#endereco').val(value.endereco);
                        $('#cidade').val(value.cidade);
                        $('#numero').val(value.numero);
                        $('#complemento').val(value.complemento);
                        $('#uf').val(value.uf);
                        $('#cep').val(value.cep);
                        $('#bairro').val(value.bairro);
                    }); 
                }
            });
          }
        }); // VALIDAÇÃO CPF/CNPJ (FIM)

        // VALIDAÇÃO EMAIL (INÍCIO)
        $("#email").change(function(){
            
            let email = $(this).val();
            var el2 = $('#email');

            if(email == ""){

              el2.css('border', '1px solid #ccc');
              el2.html('');
              el2.removeClass('is-valid');
              el2.addClass('is-invalid');
              el2.parent().find('[name=feedback2]').html('Por favor, insira um endereço de e-mail válido, para atualizações de entrega.').css('color', '#e74a3b');
              el2.css('border', '1px solid #e74a3b');

              //return false;
            } else {

              el2.css('border', '1px solid #ccc');
              el2.html('');
              el2.removeClass('is-invalid');
              el2.addClass('is-valid');
              el2.parent().find('[name=feedback2]').html('Preenchido.').css('color', '#1cc88a');
              el2.css('border', '1px solid #1cc88a');

              //return true;
            }
        }); // VALIDAÇÃO EMAIL (FIM)

        // VALIDAÇÃO NOME (INÍCIO)
        $("#nome").change(function(){
            
            let nome = $(this).val();
            var el3 = $('#nome');

            if(nome == ""){

              el3.css('border', '1px solid #ccc');
              el3.html('');
              el3.removeClass('is-valid');
              el3.addClass('is-invalid');
              el3.parent().find('[name=feedback3]').html('Requerido.').css('color', '#e74a3b');
              el3.css('border', '1px solid #e74a3b');

              //return false;
            } else {

              el3.css('border', '1px solid #ccc');
              el3.html('');
              el3.removeClass('is-invalid');
              el3.addClass('is-valid');
              el3.parent().find('[name=feedback3]').html('Preenchido.').css('color', '#1cc88a');
              el3.css('border', '1px solid #1cc88a');

              //return true;
            }
        }); // VALIDAÇÃO NOME (FIM)

        // VALIDAÇÃO CELULAR (INÍCIO)
        $("#celular").change(function(){
            
            let celular = $(this).val();
            var el15 = $('#celular');

            if(celular == ""){

              el15.css('border', '1px solid #ccc');
              el15.html('');
              el15.removeClass('is-valid');
              el15.addClass('is-invalid');
              el15.parent().find('[name=feedback4]').html('Requerido.').css('color', '#e74a3b');
              el15.css('border', '1px solid #e74a3b');

              //return false;
            } else {

              el15.css('border', '1px solid #ccc');
              el15.html('');
              el15.removeClass('is-invalid');
              el15.addClass('is-valid');
              el15.parent().find('[name=feedback4]').html('Preenchido.').css('color', '#1cc88a');
              el15.css('border', '1px solid #1cc88a');

              //return true;
            }
        }); // VALIDAÇÃO CELULAR (FIM)

        // VALIDAÇÃO CEP (INÍCIO)
        $("#cep").change(function(){
            
            let cep = $(this).val();
            var el5 = $('#cep');

            if(cep == ""){

              el5.css('border', '1px solid #ccc');
              el5.html('');
              el5.removeClass('is-valid');
              el5.addClass('is-invalid');
              el5.parent().find('[name=feedback5]').html('Por favor, insira um CEP válido.').css('color', '#e74a3b');
              el5.css('border', '1px solid #e74a3b');

              //return false;
            } else {

              el5.css('border', '1px solid #ccc');
              el5.html('');
              el5.removeClass('is-invalid');
              el5.addClass('is-valid');
              el5.parent().find('[name=feedback5]').html('Preenchido, CEP válido.').css('color', '#1cc88a');
              el5.css('border', '1px solid #1cc88a');

              //return true;
            }
        }); // VALIDAÇÃO CEP (FIM)

        // VALIDAÇÃO ENDEREÇO (INÍCIO)
        $("#endereco").change(function(){
            
            let endereco = $(this).val();
            var el6 = $('#endereco');

            if(endereco == ""){

              el6.css('border', '1px solid #ccc');
              el6.html('');
              el6.removeClass('is-valid');
              el6.addClass('is-invalid');
              el6.parent().find('[name=feedback6]').html('Requerido.').css('color', '#e74a3b');
              el6.css('border', '1px solid #e74a3b');

              //return false;
            } else {

              el6.css('border', '1px solid #ccc');
              el6.html('');
              el6.removeClass('is-invalid');
              el6.addClass('is-valid');
              el6.parent().find('[name=feedback6]').html('Preenchido.').css('color', '#1cc88a');
              el6.css('border', '1px solid #1cc88a');

              //return true;
            }
        }); // VALIDAÇÃO ENDEREÇO (FIM)

        // VALIDAÇÃO NÚMERO (INÍCIO)
        $("#numero").change(function(){
            
            let numero = $(this).val();
            var el7 = $('#numero');

            if(numero == ""){

              el7.css('border', '1px solid #ccc');
              el7.html('');
              el7.removeClass('is-valid');
              el7.addClass('is-invalid');
              el7.parent().find('[name=feedback7]').html('Requerido.').css('color', '#e74a3b');
              el7.css('border', '1px solid #e74a3b');

              //return false;
            } else {

              el7.css('border', '1px solid #ccc');
              el7.html('');
              el7.removeClass('is-invalid');
              el7.addClass('is-valid');
              el7.parent().find('[name=feedback7]').html('Preenchido.').css('color', '#1cc88a');
              el7.css('border', '1px solid #1cc88a');

              //return true;
            }
        }); // VALIDAÇÃO NÚMERO (FIM)

        // VALIDAÇÃO BAIRRO (INÍCIO)
        $("#bairro").change(function(){
            
            let bairro = $(this).val();
            var el8 = $('#bairro');

            if(bairro == ""){

              el8.css('border', '1px solid #ccc');
              el8.html('');
              el8.removeClass('is-valid');
              el8.addClass('is-invalid');
              el8.parent().find('[name=feedback8]').html('Requerido.').css('color', '#e74a3b');
              el8.css('border', '1px solid #e74a3b');

              //return false;
            } else {

              el8.css('border', '1px solid #ccc');
              el8.html('');
              el8.removeClass('is-invalid');
              el8.addClass('is-valid');
              el8.parent().find('[name=feedback8]').html('Preenchido.').css('color', '#1cc88a');
              el8.css('border', '1px solid #1cc88a');

              //return true;
            }
        }); // VALIDAÇÃO BAIRRO (FIM)

        // VALIDAÇÃO CIDADE (INÍCIO)
        $("#cidade").change(function(){
            
            let cidade = $(this).val();
            var el9 = $('#cidade');

            if(cidade == ""){

              el9.css('border', '1px solid #ccc');
              el9.html('');
              el9.removeClass('is-valid');
              el9.addClass('is-invalid');
              el9.parent().find('[name=feedback9]').html('Requerido.').css('color', '#e74a3b');
              el9.css('border', '1px solid #e74a3b');

              //return false;
            } else {

              el9.css('border', '1px solid #ccc');
              el9.html('');
              el9.removeClass('is-invalid');
              el9.addClass('is-valid');
              el9.parent().find('[name=feedback9]').html('Preenchido.').css('color', '#1cc88a');
              el9.css('border', '1px solid #1cc88a');

              //return true;
            }
        }); // VALIDAÇÃO CIDADE (FIM)        

        // VALIDAÇÃO UF (INÍCIO)
        $("#uf").change(function(){
            
            let uf = $(this).val();
            var el10 = $('#uf');

            if(uf == ""){

              el10.css('border', '1px solid #ccc');
              el10.html('');
              el10.removeClass('is-valid');
              el10.addClass('is-invalid');
              el10.parent().find('[name=feedback10]').html('Requerido.').css('color', '#e74a3b');
              el10.css('border', '1px solid #e74a3b');

              //return false;
            } else {

              el10.css('border', '1px solid #ccc');
              el10.html('');
              el10.removeClass('is-invalid');
              el10.addClass('is-valid');
              el10.parent().find('[name=feedback10]').html('Preenchido.').css('color', '#1cc88a');
              el10.css('border', '1px solid #1cc88a');

              //return true;
            }
        }); // VALIDAÇÃO UF (FIM) 

        // VALIDAÇÃO TITULAR DO CARTÃO (INÍCIO)
        $("#ccnome").change(function(){
            
            let ccnome = $(this).val();
            var el11 = $('#ccnome');

            if(ccnome == ""){

              el11.css('border', '1px solid #ccc');
              el11.html('');
              el11.removeClass('is-valid');
              el11.addClass('is-invalid');
              el11.parent().find('[name=feedback11]').html('Requerido.').css('color', '#e74a3b');
              el11.css('border', '1px solid #e74a3b');

              //return false;
            } else {

              el11.css('border', '1px solid #ccc');
              el11.html('');
              el11.removeClass('is-invalid');
              el11.addClass('is-valid');
              el11.parent().find('[name=feedback11]').html('Preenchido.').css('color', '#1cc88a');
              el11.css('border', '1px solid #1cc88a');

              //return true;
            }
        }); // VALIDAÇÃO TITULAR DO CARTÃO (FIM)

        // VALIDAÇÃO NÚMERO DO CARTÃO (INÍCIO)
        $("#ccnumero").change(function(){
            
            let ccnumero = $(this).val();
            var el12 = $('#ccnumero');

            if(ccnumero == ""){

              el12.css('border', '1px solid #ccc');
              el12.html('');
              el12.removeClass('is-valid');
              el12.addClass('is-invalid');
              el12.parent().find('[name=feedback12]').html('Requerido.').css('color', '#e74a3b');
              el12.css('border', '1px solid #e74a3b');

              //return false;
            } else {

              el12.css('border', '1px solid #ccc');
              el12.html('');
              el12.removeClass('is-invalid');
              el12.addClass('is-valid');
              el12.parent().find('[name=feedback12]').html('Preenchido.').css('color', '#1cc88a');
              el12.css('border', '1px solid #1cc88a');

              //return true;
            }
        }); // VALIDAÇÃO NÚMERO DO CARTÃO (FIM)

        // VALIDAÇÃO DATA DE VENCIMENTO (INÍCIO)
        $("#ccvencimento").change(function(){
            
            let ccvencimento = $(this).val();
            var el13 = $('#ccvencimento');

            if(ccvencimento == ""){

              el13.css('border', '1px solid #ccc');
              el13.html('');
              el13.removeClass('is-valid');
              el13.addClass('is-invalid');
              el13.parent().find('[name=feedback13]').html('Requerido.').css('color', '#e74a3b');
              el13.css('border', '1px solid #e74a3b');

              //return false;
            } else {

              el13.css('border', '1px solid #ccc');
              el13.html('');
              el13.removeClass('is-invalid');
              el13.addClass('is-valid');
              el13.parent().find('[name=feedback13]').html('Preenchido.').css('color', '#1cc88a');
              el13.css('border', '1px solid #1cc88a');

              //return true;
            }
        }); // VALIDAÇÃO DATA DE VENCIMENTO (FIM)

        // VALIDAÇÃO CVV (INÍCIO)
        $("#cccvv").change(function(){
            
            let cccvv = $(this).val();
            var el14 = $('#cccvv');

            if(cccvv == ""){

              el14.css('border', '1px solid #ccc');
              el14.html('');
              el14.removeClass('is-valid');
              el14.addClass('is-invalid');
              el14.parent().find('[name=feedback14]').html('Requerido.').css('color', '#e74a3b');
              el14.css('border', '1px solid #e74a3b');

              //return false;
            } else {

              el14.css('border', '1px solid #ccc');
              el14.html('');
              el14.removeClass('is-invalid');
              el14.addClass('is-valid');
              el14.parent().find('[name=feedback14]').html('Preenchido.').css('color', '#1cc88a');
              el14.css('border', '1px solid #1cc88a');

              //return true;
            }
        }); // VALIDAÇÃO CVV (FIM)        

      /*
      ==============================================================================
                      VALIDAÇÕES DO FORMULÁRIO DE CHECKOUT (FIM) 
                      $("#id-generico").change(function(){ ... })
      ==============================================================================
      */    

      /*
      ==============================================================================
                VALIDAÇÕES DO FORMULÁRIO DE CHECKOUT CLICANDO NO BOTÃO (INÍNCIO)
      ==============================================================================
      */

        $('#checkoutBtn').click(function(){

          let cpf2 = $('#cpf').val();
          let email2 = $('#email').val();
          let nome2 = $('#nome').val();
          let celular2 = $('#celular').val();
          let cep2 = $('#cep').val();
          let endereco2 = $('#endereco').val();
          let numero2 = $('#numero').val();
          let bairro2 = $('#bairro').val();
          let cidade2 = $('#cidade').val();
          let uf2 = $('#uf').val();
          let ccnome2 = $('#ccnome').val();
          let ccnumero2 = $('#ccnumero').val();
          let ccvencimento2 = $('#ccvencimento').val();
          let cccvv2 = $('#cccvv').val();

          if(cpf2 == "" || validaCpfCnpj(cpf2) == false || email2 =="" || nome2 =="" || celular2 == "" || cep2 =="" || endereco2 == "" || 
          numero2 == "" || bairro2 == "" || cidade2 == "" || uf2 == "" || ccnome2 == "" || ccnumero2 == "" ||
          ccvencimento2 == "" || cccvv2 == ""){

            let el15 = $('#cpf');
            let el16 = $('#email');
            let el17 = $('#nome');
            let el19 = $('#cep');
            let el20 = $('#endereco');
            let el21 = $('#numero');
            let el22 = $('#bairro');
            let el23 = $('#cidade');
            let el24 = $('#uf');
            let el25 = $('#ccnome');
            let el26 = $('#ccnumero');
            let el27 = $('#ccvencimento');
            let el28 = $('#cccvv');
            let el29 = $('#celular');

            if(validaCpfCnpj(cpf2) == false){

              el15.css('border', '1px solid #ccc');
              el15.html('');
              el15.removeClass('is-valid');
              el15.addClass('is-invalid');
              el15.parent().find('[name=feedback1]').html('Por favor, informe um CPF válido.').css('color', '#e74a3b');
              el15.css('border', '1px solid #e74a3b');

            } else {

              el15.css('border', '1px solid #ccc');
              el15.html('');
              el15.removeClass('is-invalid');
              el15.addClass('is-valid');
              el15.parent().find('[name=feedback1]').html('Preenchido, CPF válido.').css('color', '#1cc88a');
              el15.css('border', '1px solid #1cc88a');

            }

            if(email2 == ""){

              el16.css('border', '1px solid #ccc');
              el16.html('');
              el16.removeClass('is-valid');
              el16.addClass('is-invalid');
              el16.parent().find('[name=feedback2]').html('Por favor, insira um endereço de e-mail válido, para atualizações de entrega.').css('color', '#e74a3b');
              el16.css('border', '1px solid #e74a3b');
            
            } else {

              el16.css('border', '1px solid #ccc');
              el16.html('');
              el16.removeClass('is-invalid');
              el16.addClass('is-valid');
              el16.parent().find('[name=feedback2]').html('Preenchido.').css('color', '#1cc88a');
              el16.css('border', '1px solid #1cc88a');
            
            }

            if(nome2 == ""){

              el17.css('border', '1px solid #ccc');
              el17.html('');
              el17.removeClass('is-valid');
              el17.addClass('is-invalid');
              el17.parent().find('[name=feedback3]').html('Este campo é obrigatório.').css('color', '#e74a3b');
              el17.css('border', '1px solid #e74a3b');

            } else {

              el17.css('border', '1px solid #ccc');
              el17.html('');
              el17.removeClass('is-invalid');
              el17.addClass('is-valid');
              el17.parent().find('[name=feedback3]').html('Preenchido.').css('color', '#1cc88a');
              el17.css('border', '1px solid #1cc88a');

            }

            if(cep2 == ""){

              el19.css('border', '1px solid #ccc');
              el19.html('');
              el19.removeClass('is-valid');
              el19.addClass('is-invalid');
              el19.parent().find('[name=feedback5]').html('Este campo é obrigatório.').css('color', '#e74a3b');
              el19.css('border', '1px solid #e74a3b');

            } else {

              el19.css('border', '1px solid #ccc');
              el19.html('');
              el19.removeClass('is-invalid');
              el19.addClass('is-valid');
              el19.parent().find('[name=feedback5]').html('Preenchido.').css('color', '#1cc88a');
              el19.css('border', '1px solid #1cc88a');

            }

            if(endereco2 == ""){

              el20.css('border', '1px solid #ccc');
              el20.html('');
              el20.removeClass('is-valid');
              el20.addClass('is-invalid');
              el20.parent().find('[name=feedback6]').html('Este campo é obrigatório.').css('color', '#e74a3b');
              el20.css('border', '1px solid #e74a3b');

            } else {

              el20.css('border', '1px solid #ccc');
              el20.html('');
              el20.removeClass('is-invalid');
              el20.addClass('is-valid');
              el20.parent().find('[name=feedback6]').html('Preenchido.').css('color', '#1cc88a');
              el20.css('border', '1px solid #1cc88a');

            } 

            if(numero2 == ""){

              el21.css('border', '1px solid #ccc');
              el21.html('');
              el21.removeClass('is-valid');
              el21.addClass('is-invalid');
              el21.parent().find('[name=feedback7]').html('Este campo é obrigatório.').css('color', '#e74a3b');
              el21.css('border', '1px solid #e74a3b');

            } else {

              el21.css('border', '1px solid #ccc');
              el21.html('');
              el21.removeClass('is-invalid');
              el21.addClass('is-valid');
              el21.parent().find('[name=feedback7]').html('Preenchido.').css('color', '#1cc88a');
              el21.css('border', '1px solid #1cc88a');

            } 

            if(bairro2 == ""){

              el22.css('border', '1px solid #ccc');
              el22.html('');
              el22.removeClass('is-valid');
              el22.addClass('is-invalid');
              el22.parent().find('[name=feedback8]').html('Este campo é obrigatório.').css('color', '#e74a3b');
              el22.css('border', '1px solid #e74a3b');

            } else {

              el22.css('border', '1px solid #ccc');
              el22.html('');
              el22.removeClass('is-invalid');
              el22.addClass('is-valid');
              el22.parent().find('[name=feedback8]').html('Preenchido.').css('color', '#1cc88a');
              el22.css('border', '1px solid #1cc88a');

            }

            if(cidade2 == ""){

              el23.css('border', '1px solid #ccc');
              el23.html('');
              el23.removeClass('is-valid');
              el23.addClass('is-invalid');
              el23.parent().find('[name=feedback9]').html('Este campo é obrigatório.').css('color', '#e74a3b');
              el23.css('border', '1px solid #e74a3b');

            } else {

              el23.css('border', '1px solid #ccc');
              el23.html('');
              el23.removeClass('is-invalid');
              el23.addClass('is-valid');
              el23.parent().find('[name=feedback9]').html('Preenchido.').css('color', '#1cc88a');
              el23.css('border', '1px solid #1cc88a');

            }

            if(uf2 == ""){

              el24.css('border', '1px solid #ccc');
              el24.html('');
              el24.removeClass('is-valid');
              el24.addClass('is-invalid');
              el24.parent().find('[name=feedback10]').html('Este campo é obrigatório.').css('color', '#e74a3b');
              el24.css('border', '1px solid #e74a3b');

            } else {

              el24.css('border', '1px solid #ccc');
              el24.html('');
              el24.removeClass('is-invalid');
              el24.addClass('is-valid');
              el24.parent().find('[name=feedback10]').html('Preenchido.').css('color', '#1cc88a');
              el24.css('border', '1px solid #1cc88a');

            }

            if(ccnome2 == ""){

              el25.css('border', '1px solid #ccc');
              el25.html('');
              el25.removeClass('is-valid');
              el25.addClass('is-invalid');
              el25.parent().find('[name=feedback11]').html('Este campo é obrigatório.').css('color', '#e74a3b');
              el25.css('border', '1px solid #e74a3b');

            } else {

              el25.css('border', '1px solid #ccc');
              el25.html('');
              el25.removeClass('is-invalid');
              el25.addClass('is-valid');
              el25.parent().find('[name=feedback11]').html('Preenchido.').css('color', '#1cc88a');
              el25.css('border', '1px solid #1cc88a');

            }

            if(ccnumero2 == ""){

              el26.css('border', '1px solid #ccc');
              el26.html('');
              el26.removeClass('is-valid');
              el26.addClass('is-invalid');
              el26.parent().find('[name=feedback12]').html('Este campo é obrigatório.').css('color', '#e74a3b');
              el26.css('border', '1px solid #e74a3b');

            } else {

              el26.css('border', '1px solid #ccc');
              el26.html('');
              el26.removeClass('is-invalid');
              el26.addClass('is-valid');
              el26.parent().find('[name=feedback12]').html('Preenchido.').css('color', '#1cc88a');
              el26.css('border', '1px solid #1cc88a');

            }

            if(ccvencimento2 == ""){

              el27.css('border', '1px solid #ccc');
              el27.html('');
              el27.removeClass('is-valid');
              el27.addClass('is-invalid');
              el27.parent().find('[name=feedback13]').html('Este campo é obrigatório.').css('color', '#e74a3b');
              el27.css('border', '1px solid #e74a3b');

            } else {

              el27.css('border', '1px solid #ccc');
              el27.html('');
              el27.removeClass('is-invalid');
              el27.addClass('is-valid');
              el27.parent().find('[name=feedback13]').html('Preenchido.').css('color', '#1cc88a');
              el27.css('border', '1px solid #1cc88a');

            } 

            if(cccvv2 == ""){

              el28.css('border', '1px solid #ccc');
              el28.html('');
              el28.removeClass('is-valid');
              el28.addClass('is-invalid');
              el28.parent().find('[name=feedback14]').html('Este campo é obrigatório.').css('color', '#e74a3b');
              el28.css('border', '1px solid #e74a3b');

            } else {

              el28.css('border', '1px solid #ccc');
              el28.html('');
              el28.removeClass('is-invalid');
              el28.addClass('is-valid');
              el28.parent().find('[name=feedback14]').html('Preenchido.').css('color', '#1cc88a');
              el28.css('border', '1px solid #1cc88a');

            }         

            if(celular2 == ""){

              el29.css('border', '1px solid #ccc');
              el29.html('');
              el29.removeClass('is-valid');
              el29.addClass('is-invalid');
              el29.parent().find('[name=feedback4]').html('Este campo é obrigatório.').css('color', '#e74a3b');
              el29.css('border', '1px solid #e74a3b');

            } else {

              el29.css('border', '1px solid #ccc');
              el29.html('');
              el29.removeClass('is-invalid');
              el29.addClass('is-valid');
              el29.parent().find('[name=feedback4]').html('Preenchido.').css('color', '#1cc88a');
              el29.css('border', '1px solid #1cc88a');

            }

            return false;
          } else{
            let cpf2 = $('#cpf').val();
            let email2 = $('#email').val();
            let nome2 = $('#nome').val();
            let celular2 = $('#celular').val();
            let cep2 = $('#cep').val();
            let endereco2 = $('#endereco').val();
            let complemento2 = $('#complemento').val();
            let numero2 = $('#numero').val();
            let bairro2 = $('#bairro').val();
            let cidade2 = $('#cidade').val();
            let uf2 = $('#uf').val();
            let ccnome2 = $('#ccnome').val();
            let ccnumero2 = $('#ccnumero').val();
            let ccvencimento2 = $('#ccvencimento').val();
            let cccvv2 = $('#cccvv').val();

            $.post( "APICard.php", { 
                cpf : cpf2
               ,email : email2
               ,nome : nome2
               ,celular : celular2
               ,cep : cep2
               ,endereco : endereco2
               ,complemento : complemento2
               ,numero : numero2
               ,bairro : bairro2
               ,cidade : cidade2
               ,uf : uf2
               ,card_nome : ccnome2
               ,card_number : ccnumero2
               ,card_venc : ccvencimento2
               ,card_cvv: cccvv2
                }).done(function( data ) {
                    if(data != null){
                        alert("Nova fatura gerada com sucesso!");
                        $('#ModalParcela').modal('hide');
                        setTimeout(
                        function() 
                        {
                            //document.location.reload(true);
                        }, 2000);
                    }
                });
          }
        });

      /*
      ==============================================================================
                VALIDAÇÕES DO FORMULÁRIO DE CHECKOUT CLICANDO NO BOTÃO (FIM)
      ==============================================================================
      */
    </script>
  </body><!--body-->
</html>
